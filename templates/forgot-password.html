<!doctype html>
<html lang="en" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>لوکس مارکت</title>
    <meta name="description"
        content="قالب فرشگاهی لوکس مارکت بهترین قالب برای فروشگاه‌های اینترنتی با طراحی مدرن و واکنش‌گرا.">
    <meta name="keywords" content="قالب فروشگاهی, قالب لوکس مارکت, فروشگاه اینترنتی, طراحی واکنش‌گرا">
    <meta name="robots" content="index, follow">
    <meta name="author" content="لوکس مارکت">
    <meta name="copyright" content="تمامی حقوق متعلق به لوکس مارکت است.">
    <link rel="apple-touch-icon" sizes="180x180" href="static/assets/images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static/assets/images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static/assets/images/favicon_io/favicon-16x16.png">
    <link rel="canonical" href="https://example.com/your-page-url">
    <link rel="stylesheet" href="assets/js/plugin/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <link rel="preload" href="static/assets/fonts/payda/PeydaWebFaNum-Medium.woff2" as="font" type="font/woff2" crossorigin>

</head>

<body
    class="bg-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark transition-colors duration-200">

    <div class="min-h-screen flex flex-col lg:flex-row">
        <!-- Image section -->
        <div class="lg:w-1/2 auth-bg relative hidden lg:flex items-center justify-center p-12">
            <div class="absolute inset-0 bg-black/30 dark:bg-black/50"></div>
            <div class="relative z-10 text-white text-center max-w-md">
                <div class="w-20 h-20 rounded-xl bg-primary-grad flex items-center justify-center mx-auto mb-6">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                    </svg>
                </div>
                <h2 class="text-3xl font-bold mb-4">بازیابی رمز عبور</h2>
                <p class="text-lg mb-6">کد بازیابی به ایمیل یا شماره موبایل شما ارسال خواهد شد</p>
            </div>
        </div>

        <!-- Recovery form section -->
        <div class="lg:w-1/2 flex items-center justify-center p-6">
            <div class="w-full max-w-md">
                <!-- Mobile logo -->
                <div class="flex items-center justify-center mb-8 lg:hidden">
                    <div class="w-12 h-12 rounded-md bg-primary-grad flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                        </svg>
                    </div>
                    <h1 class="mr-3 text-xl font-bold text-dark dark:text-light">قالب <span class="text-primary"> لوکس
                            مارکت </span></h1>
                </div>

                <div
                    class="bg-white dark:bg-card-dark rounded-2xl shadow-soft dark:shadow-soft-dark p-8 border border-gray-100 dark:border-gray-700 fade-in">
                    <!-- First mode: Request recovery code -->
                    <div id="request-code-section">
                        <div class="text-center mb-8">
                            <h2 class="text-2xl font-bold text-dark dark:text-light mb-2">فراموشی رمز عبور</h2>
                            <p class="text-gray-500 dark:text-gray-400">لطفا ایمیل یا شماره موبایل خود را وارد کنید</p>
                        </div>

                        <form class="space-y-5" id="request-code-form">
                            <!-- Email/Mobile -->
                            <div>
                                <label for="email-or-mobile"
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">ایمیل یا
                                    شماره موبایل</label>
                                <div class="relative">
                                    <input type="text" id="email-or-mobile"
                                        class="w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                                        placeholder="example@example.com یا 09xxxxxxxxx" required>
                                    <div class="absolute input-icon top-1/2 transform -translate-y-1/2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                        </svg>
                                    </div>
                                </div>
                                <p class="error-message hidden" id="email-or-mobile-error">لطفا ایمیل یا شماره موبایل
                                    معتبر وارد کنید</p>
                            </div>

                            <!-- Submit Code Button -->
                            <div>
                                <button type="submit"
                                    class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary dark:bg-primary-dark hover:bg-primary/90 dark:hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">
                                    ارسال کد بازیابی
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path
                                            d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
                                    </svg>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Second mode: Enter the verification code -->
                    <div id="verify-code-section" class="hidden">
                        <div class="text-center mb-8">
                            <h2 class="text-2xl font-bold text-dark dark:text-light mb-2">تایید کد بازیابی</h2>
                            <p class="text-gray-500 dark:text-gray-400">کد ارسال شده به <span id="sent-to"
                                    class="font-medium">example@example.com</span> را وارد کنید</p>
                        </div>

                        <form class="space-y-5" id="verify-code-form">
                            <!-- Verification code -->
                            <div>
                                <label for="verification-code"
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">کد
                                    تایید</label>
                                <div class="relative">
                                    <input type="text" id="verification-code"
                                        class="w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                                        placeholder="کد ۶ رقمی" required maxlength="6">
                                    <div class="absolute input-icon top-1/2 transform -translate-y-1/2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                        </svg>
                                    </div>
                                </div>
                                <p class="error-message hidden" id="verification-code-error">لطفا کد ۶ رقمی معتبر وارد
                                    کنید</p>
                                <div class="flex items-center justify-between mt-2">
                                    <p class="text-xs text-gray-500 dark:text-gray-400">کد دریافت نکرده‌اید؟</p>
                                    <button type="button" onclick="resendCode()"
                                        class="text-xs font-medium text-primary dark:text-primary-dark hover:underline focus:outline-none"
                                        id="resend-button">
                                        ارسال مجدد کد (02:00)
                                    </button>
                                </div>
                            </div>

                            <!-- Code verification button -->
                            <div>
                                <button type="submit"
                                    class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary dark:bg-primary-dark hover:bg-primary/90 dark:hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">
                                    تایید کد
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path fill-rule="evenodd"
                                            d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Third mode: Set a new password -->
                    <div id="new-password-section" class="hidden">
                        <div class="text-center mb-8">
                            <h2 class="text-2xl font-bold text-dark dark:text-light mb-2">تنظیم رمز عبور جدید</h2>
                            <p class="text-gray-500 dark:text-gray-400">لطفا رمز عبور جدید خود را وارد کنید</p>
                        </div>

                        <form class="space-y-5" id="new-password-form">
                            <!-- New password -->
                            <div>
                                <label for="new-password"
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">رمز عبور
                                    جدید</label>
                                <div class="relative">
                                    <input type="password" id="new-password"
                                        class="w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                                        placeholder="رمز عبور جدید" required>
                                    <div class="absolute input-icon top-1/2 transform -translate-y-1/2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                        </svg>
                                    </div>
                                </div>
                                <p class="error-message hidden" id="new-password-error">رمز عبور باید حداقل ۶ کاراکتر
                                    باشد</p>
                            </div>

                            <!-- Repeat new password -->
                            <div>
                                <label for="confirm-new-password"
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">تکرار رمز
                                    عبور جدید</label>
                                <div class="relative">
                                    <input type="password" id="confirm-new-password"
                                        class="w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                                        placeholder="تکرار رمز عبور جدید" required>
                                    <div class="absolute input-icon top-1/2 transform -translate-y-1/2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                        </svg>
                                    </div>
                                </div>
                                <p class="error-message hidden" id="confirm-password-error">رمز عبورها مطابقت ندارند</p>
                            </div>

                            <!-- Register new password button -->
                            <div>
                                <button type="submit"
                                    class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary dark:bg-primary-dark hover:bg-primary/90 dark:hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">
                                    ثبت رمز جدید
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path fill-rule="evenodd"
                                            d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Success message -->
                    <div id="success-section" class="hidden text-center">
                        <div
                            class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4">
                            <svg class="h-6 w-6 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7" />
                            </svg>
                        </div>
                        <h2 class="text-2xl font-bold text-dark dark:text-light mb-2">رمز عبور با موفقیت تغییر یافت!
                        </h2>
                        <p class="text-gray-500 dark:text-gray-400 mb-6">اکنون می‌توانید با رمز عبور جدید وارد حساب
                            کاربری خود شوید</p>
                        <a href="login.html"
                            class="w-full inline-flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary dark:bg-primary-dark hover:bg-primary/90 dark:hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">
                            ورود به حساب کاربری
                        </a>
                    </div>

                    <!-- Return to login link -->
                    <div class="mt-6 text-center">
                        <p class="text-sm text-gray-500 dark:text-gray-400">
                            <a href="login.html"
                                class="font-medium text-primary dark:text-primary-dark hover:underline">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline ml-1" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                </svg>
                                بازگشت به صفحه ورود
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/dependencies/app.js"></script>


    <script>
        // Timer variables
        let resendTimer;
        let resendTime = 120; // 2 minutes

        // Validation for request code form
        document.getElementById('request-code-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const emailOrMobile = document.getElementById('email-or-mobile');
            const errorElement = document.getElementById('email-or-mobile-error');

            // Clear previous errors
            emailOrMobile.classList.remove('input-error');
            errorElement.classList.add('hidden');

            // Validate email or mobile
            if (!emailOrMobile.value) {
                emailOrMobile.classList.add('input-error');
                errorElement.textContent = 'لطفا ایمیل یا شماره موبایل را وارد کنید';
                errorElement.classList.remove('hidden');
                return;
            }

            // Check for valid mobile number
            const isMobile = /^09\d{9}$/.test(emailOrMobile.value);

            // Check for valid email
            const isEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailOrMobile.value);

            if (!isMobile && !isEmail) {
                emailOrMobile.classList.add('input-error');
                errorElement.textContent = 'لطفا ایمیل یا شماره موبایل معتبر وارد کنید';
                errorElement.classList.remove('hidden');
                return;
            }

            // Simulate sending code (in real case, send to server)
            document.getElementById('sent-to').textContent = emailOrMobile.value;

            // Show verification section
            document.getElementById('request-code-section').classList.add('hidden');
            document.getElementById('verify-code-section').classList.remove('hidden');

            // Start resend code timer
            startResendTimer();
        });

        // Validation for verification code form
        document.getElementById('verify-code-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const verificationCode = document.getElementById('verification-code');
            const errorElement = document.getElementById('verification-code-error');

            // Clear previous errors
            verificationCode.classList.remove('input-error');
            errorElement.classList.add('hidden');

            // Validate verification code
            if (!verificationCode.value) {
                verificationCode.classList.add('input-error');
                errorElement.textContent = 'لطفا کد تایید را وارد کنید';
                errorElement.classList.remove('hidden');
                return;
            }

            if (!/^\d{6}$/.test(verificationCode.value)) {
                verificationCode.classList.add('input-error');
                errorElement.textContent = 'کد تایید باید ۶ رقم باشد';
                errorElement.classList.remove('hidden');
                return;
            }

            // Simulate code verification (in real case, send to server)
            document.getElementById('verify-code-section').classList.add('hidden');
            document.getElementById('new-password-section').classList.remove('hidden');

            // Stop the timer
            clearInterval(resendTimer);
            document.getElementById('resend-button').textContent = 'ارسال مجدد کد';
        });

        // Validation for new password form
        document.getElementById('new-password-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const newPassword = document.getElementById('new-password');
            const confirmPassword = document.getElementById('confirm-new-password');
            const passwordError = document.getElementById('new-password-error');
            const confirmError = document.getElementById('confirm-password-error');

            // Clear previous errors
            newPassword.classList.remove('input-error');
            confirmPassword.classList.remove('input-error');
            passwordError.classList.add('hidden');
            confirmError.classList.add('hidden');

            let isValid = true;

            // Validate new password
            if (!newPassword.value) {
                newPassword.classList.add('input-error');
                passwordError.textContent = 'لطفا رمز عبور جدید را وارد کنید';
                passwordError.classList.remove('hidden');
                isValid = false;
            } else if (newPassword.value.length < 6) {
                newPassword.classList.add('input-error');
                passwordError.textContent = 'رمز عبور باید حداقل ۶ کاراکتر باشد';
                passwordError.classList.remove('hidden');
                isValid = false;
            }

            // Validate confirm password
            if (!confirmPassword.value) {
                confirmPassword.classList.add('input-error');
                confirmError.textContent = 'لطفا تکرار رمز عبور را وارد کنید';
                confirmError.classList.remove('hidden');
                isValid = false;
            } else if (newPassword.value !== confirmPassword.value) {
                confirmPassword.classList.add('input-error');
                confirmError.textContent = 'رمز عبورها مطابقت ندارند';
                confirmError.classList.remove('hidden');
                isValid = false;
            }

            if (!isValid) return;

            // Simulate submitting new password (in real case, send to server)
            document.getElementById('new-password-section').classList.add('hidden');
            document.getElementById('success-section').classList.remove('hidden');
        });

        // Function to start resend timer
        function startResendTimer() {
            clearInterval(resendTimer);
            resendTime = 120;

            const resendButton = document.getElementById('resend-button');
            resendButton.disabled = true;

            updateResendButtonText();

            resendTimer = setInterval(function () {
                resendTime--;
                updateResendButtonText();

                if (resendTime <= 0) {
                    clearInterval(resendTimer);
                    resendButton.disabled = false;
                    resendButton.textContent = 'ارسال مجدد کد';
                }
            }, 1000);
        }

        // Function to update resend button text
        function updateResendButtonText() {
            const minutes = Math.floor(resendTime / 60);
            const seconds = resendTime % 60;
            document.getElementById('resend-button').textContent =
                `ارسال مجدد کد (${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')})`;
        }

        // Function to resend code
        function resendCode() {
            // Simulate resending code
            alert('کد جدید به ایمیل/موبایل شما ارسال شد');

            // Restart the timer
            startResendTimer();
        }

    </script>

</body>

</html>